# 产品需求文档 (PRD)
## 今天已经过去了多少秒？

### 1. 产品概述

#### 1.1 产品名称
HowLongToday / 今日时光

#### 1.2 产品定位
一个简洁、实时展示今天已经过去时间的网站，以秒为单位精确到毫秒级别，提供直观的时间流逝感知体验。

#### 1.3 目标用户
- 对时间感知有兴趣的用户
- 需要时间提醒的工作者
- 喜欢极简工具的用户
- 全球不同时区的用户

#### 1.4 产品价值
- **即时性**: 毫秒级实时更新，精确展示时间流逝
- **全球化**: 支持多时区、多语言
- **极简美**: 界面简洁大方，信息呈现直观
- **响应式**: 完美适配各种设备

### 2. 功能需求

#### 2.1 核心功能

##### 2.1.1 时间显示
- **主显示区**: 大字体显示已过去的秒数（含小数点后3位）
- **辅助信息**: 
  - 当前时间 (HH:MM:SS)
  - 今日剩余时间
  - 已过去时间百分比
  - 进度条可视化

##### 2.1.2 地区设置
- **自动检测**: 通过IP或浏览器API自动检测用户时区
- **手动选择**: 提供时区选择器
- **记忆功能**: 本地存储用户选择

##### 2.1.3 语言切换
- **支持语言**: 
  - 必须: 中文简体、英语
  - 可选: 日语、韩语、西班牙语、法语
- **自动检测**: 根据浏览器语言自动设置
- **快速切换**: 顶部语言切换按钮

#### 2.2 界面要求

##### 2.2.1 视觉设计
- **配色方案**: 
  - 日间模式: 白底黑字
  - 夜间模式: 深色背景（自动/手动切换）
- **字体要求**:
  - 数字: 等宽字体，确保数字跳动时不影响布局
  - 文字: 系统默认字体优先

##### 2.2.2 布局结构
```
┌─────────────────────────────────────┐
│  [Logo] [时区选择] [语言] [主题]     │ Header
├─────────────────────────────────────┤
│                                     │
│         86,421.237                  │ 主显示区
│         seconds passed              │
│                                     │
│     ████████████░░░░░░░ 75.3%      │ 进度条
│                                     │
│     Current: 23:59:59               │ 辅助信息
│     Remaining: 00:00:01             │
│                                     │
└─────────────────────────────────────┘
```

### 3. 技术需求

#### 3.1 性能要求
- **刷新率**: 10ms - 100ms 可调
- **CPU占用**: < 5%
- **内存占用**: < 50MB
- **首屏加载**: < 2秒

#### 3.2 兼容性
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **设备**: 
  - 桌面: 1024px 以上
  - 平板: 768px - 1024px
  - 手机: 320px - 768px

#### 3.3 技术栈建议
- **前端框架**: React/Vue/Vanilla JS
- **样式**: CSS3 + CSS Variables
- **时间处理**: Day.js 或 date-fns
- **国际化**: i18next 或类似方案
- **状态管理**: LocalStorage + Context/Vuex

### 4. 用户故事

#### 4.1 基础用户
```
作为一个普通用户
我想要看到今天已经过去了多少时间
以便感知时间的流逝
```

#### 4.2 国际用户
```
作为一个国际用户
我想要切换到我的时区和语言
以便更好地理解显示的信息
```

#### 4.3 移动用户
```
作为一个手机用户
我想要在手机上流畅使用
以便随时查看时间信息
```

### 5. 非功能需求

#### 5.1 可访问性
- 支持键盘导航
- 支持屏幕阅读器
- 高对比度模式
- 字体大小可调

#### 5.2 SEO优化
- 语义化HTML
- 多语言URL
- 结构化数据
- 社交媒体卡片

#### 5.3 监控与分析
- 页面访问统计
- 功能使用统计
- 错误监控
- 性能监控

### 6. 移动端特殊考虑

#### 6.1 触摸优化
- 按钮最小尺寸: 44x44px
- 下拉菜单优化为底部弹出
- 支持手势操作（可选）

#### 6.2 省电模式
- 检测低电量模式
- 可选降低刷新率
- 减少动画效果

#### 6.3 横竖屏适配
- 自动调整布局
- 保持可读性
- 隐藏次要元素

### 7. 数据规格

#### 7.1 时间计算
```javascript
// 获取今天开始时间（本地时区）
const todayStart = new Date().setHours(0,0,0,0);

// 计算已过去毫秒数
const elapsedMs = Date.now() - todayStart;

// 转换为秒（保留3位小数）
const elapsedSeconds = (elapsedMs / 1000).toFixed(3);

// 计算百分比
const percentage = (elapsedMs / 86400000) * 100;
```

#### 7.2 本地存储
```javascript
localStorage: {
  timezone: 'Asia/Shanghai',
  language: 'zh-CN',
  theme: 'auto',
  refreshRate: 100
}
```

### 8. 发布计划

#### Phase 1 - MVP (第1周)
- 基础时间显示
- 中英文支持
- 响应式布局

#### Phase 2 - 增强 (第2周)
- 时区选择
- 主题切换
- 性能优化

#### Phase 3 - 完善 (第3周)
- 更多语言
- 动画效果
- 数据统计

### 9. 成功指标

#### 9.1 用户指标
- 日活跃用户 > 1000
- 平均停留时间 > 30秒
- 回访率 > 20%

#### 9.2 性能指标
- Lighthouse分数 > 90
- 首屏加载 < 2秒
- CPU占用 < 5%

#### 9.3 质量指标
- 错误率 < 0.1%
- 浏览器兼容率 > 95%
- 移动端满意度 > 4.5/5

### 10. 风险与对策

| 风险 | 影响 | 对策 |
|-----|-----|-----|
| 高频刷新导致性能问题 | 高 | 使用requestAnimationFrame优化 |
| 时区转换错误 | 中 | 使用成熟库，充分测试 |
| 国际化不完整 | 低 | 分阶段实施，优先主要语言 |
| 移动端体验差 | 中 | 移动优先设计，真机测试 |

### 11. 附录

#### 11.1 竞品分析
- Time.is - 功能全面但界面复杂
- WorldTimeServer - 传统设计，不够现代
- 本产品定位：极简 + 美观 + 实用

#### 11.2 设计参考
- Apple Timer - 简洁的数字显示
- Google Timer - 清晰的进度展示
- Stripe - 优雅的动画效果

---

*文档版本: 1.0*  
*创建日期: 2025-08-12*  
*作者: qingzai with claude*